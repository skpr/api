/** Service responsible for coordinating environment events */
syntax = "proto3";

package workflow;

import "google/protobuf/timestamp.proto";

option go_package = "./pb";

service events {
  rpc List (EventsListRequest) returns (EventsListResponse) {}
}

/**
 * Details that are captured as an event.
 */
message Event {
  string ID = 1;                           // Event identifier
  google.protobuf.Timestamp Timestamp = 2; // When the event occurred
  enum EventType {
    Normal = 0;  // Default type is normal
    Warning = 1; // The event was a warning
    Error = 2;   // The event was an error
  }
  EventType Type = 3;    // What type of event it is (e.g., Warning, Normal)
  string Reason = 4;  // The reason for the event (e.g., BackupSucceeded, ShellProvisioned)
  string Message = 5; // Message contains the specific information about the event
}

/**
 * Input for EventsList.
 */
message EventsListRequest {
  string Environment = 1; // Name of the environment
}

/**
 * Output for EventsList.
 */
message EventsListResponse {
  repeated Event Events = 1; // List of events
}
