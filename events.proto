/** Service responsible for coordinating environment events */
syntax = "proto3";

package workflow;

import "google/protobuf/timestamp.proto";

option go_package = "./pb";

service events {
  rpc List (EventsListRequest) returns (EventsListResponse) {}
}

/**
 * Details that are captured as an event.
 */
message Event {
  string ID = 1;                           // Event identifier
  google.protobuf.Timestamp Timestamp = 2; // When the event occurred
  enum EventSeverity {
    Info = 0;     // Default type is normal informational events occur.
    Warning = 1;  // Used when something unusual happened eg. A config was deleted
    Error = 2;    // A failure has occured eg. Elevated error rates detected
    Critical = 3; // Used when a critical failure has occured eg. Environment is down or a security breach detected
  }
  EventSeverity Severity = 3; // What type of event it is (e.g., Warning, Normal)
  string Type = 4;      // The reason for the event (e.g., BackupSucceeded, ShellProvisioned)
  string Message = 5;     // Message contains the specific information about the event
}

/**
 * Input for EventsList.
 */
message EventsListRequest {
  string Environment = 1; // Name of the environment
}

/**
 * Output for EventsList.
 */
message EventsListResponse {
  repeated Event Events = 1; // List of events
}
